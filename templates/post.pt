<div metal:use-macro="layout">
  <div metal:fill-slot="head" tal:omit-tag="1">
    <meta name="description" content="${post.excerpt}" />
    <meta property="og:url" content="https://blog.piwheels.org/${post.link}" />
    <meta property="og:title" content="${post.title}" />
    <meta property="og:description" content="${post.excerpt}" />
    <meta name="twitter:title" content="${post.title}" />
    <meta name="twitter:description" content="${post.excerpt}" />
  </div>

  <div metal:fill-slot="title" tal:omit-tag="1" tal:content="structure post.title"></div>

  <section metal:fill-slot="content">
    <div class="content">
      <div class="postmeta">
        <div><a href="/">Blog</a> &raquo; <a href="/${post.published.year}">${post.published.year}</a> &raquo; <a href="/${post.published.strftime('%Y/%m')}/">${post.published.strftime("%B")}</a></div>
        <div>Published <time datetime="${post.published.isoformat(timespec='seconds')}" title="${post.published.isoformat(timespec='seconds')}">${post.published.strftime("%-d %B %Y")}</time> by ${post.author}</div>
        <div tal:condition="post.modified_diff">Modified <time datetime="${post.modified.isoformat(timespec='seconds')}" title="${post.modified.isoformat(timespec='seconds')}">${post.modified.strftime("%-d %B %Y")}</time></div>
      </div>
      <h2 tal:content="structure post.title"></h2>
      <div tal:content="structure post.html"></div>
      <div class="callout primary tags">
        Tags: <a tal:repeat="tag post.tags" href="/tags/${tag}">${tag.replace("-", " ")}</a>
      </div>

      <div class="callout primary">
        <nav tal:condition="prev_post" class="prev">&laquo; <a href="/${prev_post.link}" rel="prev" tal:content="structure prev_post.title"></a></nav>
        <nav tal:condition="next_post" class="next"><a href="/${next_post.link}" rel="next" tal:content="structure next_post.title"></a> &raquo;</nav>
      </div>
    </div>
  </section>
</div>
