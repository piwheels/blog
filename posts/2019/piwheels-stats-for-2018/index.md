
<p>piwheels was launched in mid-2017, and we started counting downloads in November of that year, so now we have over a year's worth of data on which packages have been downloaded, and how much time has been saved.</p>
<p><em>If you're not familiar, piwheels.org is a Python package repository providing natively compiled wheels for the Raspberry Pi's Arm architecture, making pip installations fast for Raspberry Pi users.</em></p>
<p>In 2018, a total of <strong>5,154,233</strong> packages were downloaded, saving users <strong>39 years, 10 months and 29 days</strong>. Some more stats for the year:</p>
<ul class="wp-block-list"><li>Average daily downloads: <strong>14,519</strong></li><li>Average monthly downloads: <strong>429,519</strong></li><li>Most downloads in one day: <strong>25,389</strong> on 30 November</li><li>Most downloads in one month: <strong>662,621</strong> in December (<strong>21,445</strong> daily average)</li></ul>
<p>Usage was steady throughout the year, with a rise in the final quarter:</p>
<figure class="wp-block-image"><img src="images/piwheels-2018-daily.png"/></figure>
<figure class="wp-block-image"><img src="images/piwheels-2018-monthly.png"/></figure>
<p>Interestingly, the top 50 download days on record have all been since late October!</p>
<h2 class="wp-block-heading">Packages</h2>
<p>The top 30 most downloaded packages of the year are:</p>
<ol class="wp-block-list"><li><strong><a href="https://pypi.org/project/pycparser">pycparser</a></strong> (203,432)</li><li><strong><a href="https://pypi.org/project/home-assistant-frontend">home-assistant-frontend</a></strong> (157,924)</li><li><strong><a href="https://pypi.org/project/PyYAML">PyYAML</a></strong> (153,907)</li><li><strong><a href="https://pypi.org/project/cffi">cffi</a></strong> (143,998)</li><li><strong><a href="https://pypi.org/project/MarkupSafe">MarkupSafe</a></strong> (138,488)</li><li><strong><a href="https://pypi.org/project/SQLAlchemy">SQLAlchemy</a></strong> (133,629)</li><li><strong><a href="https://pypi.org/project/multidict">multidict</a></strong> (132,226)</li><li><strong><a href="https://pypi.org/project/numpy">numpy</a></strong> (130,044)</li><li><strong><a href="https://pypi.org/project/aiohttp">aiohttp</a></strong> (129,322)</li><li><strong><a href="https://pypi.org/project/future">future</a></strong> (121,117)</li><li><strong><a href="https://pypi.org/project/cryptography">cryptography</a></strong> (109,670)</li><li><strong><a href="https://pypi.org/project/idna_ssl">idna_ssl</a></strong> (109,317)</li><li><strong><a href="https://pypi.org/project/mutagen">mutagen</a></strong> (100,491)</li><li><strong><a href="https://pypi.org/project/user-agents">user-agents</a></strong> (81,608)</li><li><strong><a href="https://pypi.org/project/netifaces">netifaces</a></strong> (79,248)</li><li><strong><a href="https://pypi.org/project/pycryptodome">pycryptodome</a></strong> (78,503)</li><li><strong><a href="https://pypi.org/project/gTTS-token">gTTS-token</a></strong> (75,068)</li><li><strong><a href="https://pypi.org/project/yarl">yarl</a></strong> (73,824)</li><li><strong><a href="https://pypi.org/project/voluptuous-serialize">voluptuous-serialize</a></strong> (71,656)</li><li><strong><a href="https://pypi.org/project/paho-mqtt">paho-mqtt</a></strong> (63,925)</li><li><strong><a href="https://pypi.org/project/bcrypt">bcrypt</a></strong> (58,017)</li><li><strong><a href="https://pypi.org/project/RPi.GPIO">RPi.GPIO</a></strong> (50,246)</li><li><strong><a href="https://pypi.org/project/Pillow">Pillow</a></strong> (48,757)</li><li><strong><a href="https://pypi.org/project/docopt">docopt</a></strong> (43,908)</li><li><strong><a href="https://pypi.org/project/psutil">psutil</a></strong> (40,205)</li><li><strong><a href="https://pypi.org/project/PyQRCode">PyQRCode</a></strong> (39,436)</li><li><strong><a href="https://pypi.org/project/matplotlib">matplotlib</a></strong> (38,412)</li><li><strong><a href="https://pypi.org/project/tensorflow">tensorflow</a></strong> (38,335)</li><li><strong><a href="https://pypi.org/project/opencv-python">opencv-python</a></strong> (37,274)</li><li><strong><a href="https://pypi.org/project/ifaddr">ifaddr</a></strong> (36,804)</li></ol>
<h2 class="wp-block-heading">Architectures</h2>
<p>The Pi 2 and Pi 3 both identify as armv7l, and that's by far the most common architecture, followed by armv6l which is the architecture of Pi 1 and Pi Zero. Note that the time saved is much higher for Pi 1/Zero users as they don't contain the quad-core CPU found in the Pi 2/3.<br/></p>
<ol class="wp-block-list"><li><strong>armv7l</strong> (4,564,317)</li><li><strong>armv6l</strong> (481,616)</li><li><strong>x86_64</strong> (93,142)</li><li><strong>armv8l</strong> (6,666)</li><li><strong>i686</strong> (6,550)</li><li><strong>aarch64</strong> (606)</li><li><strong>AMD64</strong> (185)</li><li><strong>x86</strong> (2)</li></ol>
<figure class="wp-block-image"><img src="images/piwheels-2018-arch.png"/></figure>
<p>Pi 3 users running a 64-bit operating system (not Raspbian) identify as armv8l, which is fourth in the list. We don't provide armv8l wheels, so this number only includes pure Python packages. Higher than armv8l in third place is x86_64, which is 64-bit non-Pi platforms, i.e. PC running Windows/Mac/Linux, but again, this (as with all other architecture) only counts pure Python packages. These users will not really see any benefit to using piwheels to install packages. Pure Python wheel downloads may be slightly faster than source distribution but it's nothing compared to packages which require compilation.</p>
<h2 class="wp-block-heading">Operating systems</h2>
<p>By far, most downloads come from Raspbian, particularly Raspbian Stretch. The next highest are Debian Stretch and then various Ubuntu distributions (each significantly smaller):</p>
<figure class="wp-block-image"><img src="images/piwheels-2018-os.png"/></figure>
<figure class="wp-block-image"><img src="images/piwheels-2018-os-versions.png"/></figure>
<p>Since Raspbian Stretch comes pre-configured with settings for piwheels, but Jessie doesn't, Jessie users have to update pip and manually set the config to use piwheels. There may be a significant number of Raspberry Pi users using Raspbian Jessie who are not aware of the piwheels project, but we would never know. There are also plenty of other random distributions appearing with just a few downloads each.</p>
<h2 class="wp-block-heading">Python versions</h2>
<p>Currently we provide wheels for the default Python 3 version in Raspbian Jessie (Python 3.4) and Stretch (Python 3.5), we don't build Python 2 wheels, but pure Python packages are often available for both 2 and 3, so Python 2 users can pick up those packages, and hence Python 2.7 is present in our download stats. We've started to build Python 3.6 wheels using unreleased Raspbian Buster (testing), and by the time that's released, it will probably ship with Python 3.7 and hopefully without Python 2.</p>
<p>The vast majority of our downloads are for Python 3.5 (Stretch). However, the number of Python 2 downloads (though limited to pure Python packages) is larger than any other Python 3 version which indicates a large Python 2 user base. Remember, kids, <a href="https://pythonclock.org/">Python 2 EOL</a> is now <strong>less than a year away</strong>!<br/></p>
<figure class="wp-block-image"><img src="images/piwheels-2018-python-version.png"/></figure>
<h2 class="wp-block-heading">Time saved</h2>
<p>Since we record how long a build takes, and we log every download, we can calculate the amount of time saved:<br/></p>
<ul class="wp-block-list"><li>January – 1 year 7 months</li><li>February – 1 year 8 months</li><li>March – 2 years 1 month</li><li>April – 1 year 11 months</li><li>May – 2 years 2 months</li><li>June – 2 years 8 months</li><li>July – 3 years 1 month</li><li>August – 4 years 6 months </li><li>September – 4 years 4 months</li><li>October – 5 years</li><li>November – 4 years 10 months</li><li>December – 6 years 1 month</li></ul>
<p>This totals nearly 40 years saved in just one year. The most time saved in a single day was on 28 December (over 90 days).</p>
<p>It's worth noting that for the only package we don't build ourselves, Tensorflow (built by Google and uploaded to piwheels), we don't record a build time, so this package is effectively excluded from the time saved stats. Pete Warden estimates it would take a whole day to build it yourself on a Pi 3, and this is our 28th most popular package (and climbing – 25th in the last month), so if we were to add this to the time saved stat it would increase immensely (by an estimated 141 years), which would heavily skew the stat.</p>
<h2 class="wp-block-heading">Energy saved</h2>
<p>Similarly, we can calculate how much energy has been saved by reducing the need for compilation. Roughly speaking, we estimate we've saved at least <strong>276KWh</strong> of electricity, based on the idle draw of a Pi 2 for the Armv7 downloads, and a Pi Zero for the Armv6 downloads.</p>
<h2 class="wp-block-heading">Downloads through the day</h2>
<p>So what does an average day look like on piwheels? Well here's a graph showing the number of downloads per hour throughout our busiest day of the year:</p>
<figure class="wp-block-image"><img src="images/piwheels-2018-day.png"/></figure>
<h2 class="wp-block-heading">On to 2019</h2>
<p>Debian and Raspbian Buster are expected to arrive in mid-2019, so we'll see the arrival of Python 3.6 or 3.7 (whichever is in Buster), and will provide wheels for all packages in due course.</p>
<p>We have been working on a few new features, including HTML project pages (<a href="https://pypi.org/project/numpy/">like PyPI does</a>) so you don't have to use the <a href="https://www.piwheels.org/simple/numpy/">simple index</a> to see which packages and versions we have. We have also made it possible to calculate apt dependencies for a wheel based on packages providing required shared object files, as described in a <a href="https://blog.piwheels.org/how-to-work-out-the-missing-dependencies-for-a-python-package/">previous post</a>.</p>
<p>If you're interested in following piwheels project updates, we tweet daily and monthly stats at <a href="https://twitter.com/piwheels">@piwheels</a>. You can also follow me <a href="https://twitter.com/ben_nuttall">@ben_nuttall</a> and Dave <a href="https://twitter.com/waveform80">@waveform80</a>.</p>
<p><em>The piwheels project wouldn't be possible without considerable support from </em><a href="https://www.mythic-beasts.com/"><em>Mythic Beasts</em></a><em>, who provide storage and cloud Pis. The Pi platform is so straightforward, it's been a pleasure to use, allowing us to scale up builder Pis with ease. We highly recommend using this (very affordable) service for real </em><a href="https://www.mythic-beasts.com/order/rpi"><em>Pi testing</em></a><em> for your projects.</em></p>
